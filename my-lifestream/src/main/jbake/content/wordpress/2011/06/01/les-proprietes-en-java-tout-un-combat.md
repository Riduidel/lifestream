type: post
status: published
title: Les propri??t??s en java, tout un combat
tags: beans, java, javafx, propri??t??s
date: Wed Jun 01 14:01:29 CEST 2011
~~~~~~
# Les propri??t??s en java, tout un combat

Il ya ??peu de temps est sorti [JavaFX 2.0](http://javafx.com/) (enfin, c'est la beta, que certains connaissent depuis longtemps d??ja, mais bon, on commence ?? en avoir une id??e bien pr??cise). Avec lui arrive enfin en java un concept que certains langages, comme le Ruby [par exemple](http://www.ruby-doc.org/docs/beginner-fr/xhtml/ch04s02.html), connaissent depuis ... pfiou, longtemps : les [propri??t??s](http://blog.netopyr.com/2011/05/13/javafx-properties/).Evidement, il y a quelques d??fauts de design, inh??rents ?? la solution choisie, comme le montre par exemple [Stephen Colebourne](http://www.jroller.com/scolebourne/entry/beans_and_properties), dans un article pr??sentant les diff??rentes versions de Joda-Beans. Il aurait tout autant pu parler de [majick-properties](http://code.google.com/p/majick-properties/), qui fait un peu la m??me chose ... avec une syntaxe plus Java 5, mais l?? n'est pas la question.En fait, curieusement, par un de ces hasards de [synchronicit??](http://fr.wikipedia.org/wiki/Synchronicit??), qui rend la vie amusante, j'ai ??voqu?? le sujet au bureau r??cement, mais dans un autre contexte. Ce contexte, c'est celui d'une application se baladant sur les bords du web s??mantique. Dans ce web s??mantique, des *objets* ont des *propri??t??s* qui ont des *valeurs* (bien s??r, les afficionados utilisent d'autres termes, mais c'est l'id??e). On peut les stocker avec des outils comme [RDF2Go](http://semanticweb.org/wiki/RDF2Go), ou ??crire un stockage propri??taire ?? la main. Et danas ce cas, ??videment, les propri??t??s reprennent tout leur sens. Mais des propri??t??s plus riches que celles de JavaFX.Parce qu'en fait, les propri??t??s de JavaFX sont assez pauvres : elles stockent la valeur et y associent un [ChangeListener](http://download.oracle.com/javafx/2.0/api/javafx/beans/value/ChangeListener.html) ... et c'est ?? peu pr??s tout. Mais dans une application moderne, on veut bien plus que ??a !On veut par exemple utiliser [Bean Validation](http://download.oracle.com/javaee/6/tutorial/doc/gircz.html) sur cette propri??t??, ou d??finir une interface de repr??sentation ?? grands coups d'annotation, dans une veine [NakedObjects](http://incubator.apache.org/isis/index.html)/majick-properties/[FXForm](https://bitbucket.org/dooapp/fxform/wiki/Home), voire m??me d??finir un mapping O/R.Et pour tout ??a, avec les propri??t??s JavaFX, j'ai bien l'impression qu'on sera sacr??ment emmerd??s pour le faire.Non, en fait, le secret, c'est de rendre ces propri??t??s [Adaptable](http://www.manageability.org/blog/stuff/adaptor-oriented-programming). Mais ??a, je n'ai pas l'impression que ce soit tout de suite dans JavaFX ... Dommage, quoi, parce qu'avec ??a, c'aurait ??t?? la f??te.