type: post
status: published
title: Flex, c'est quand m??me moins bien 
tags: flex, humeur, java, test
date: Fri Nov 06 11:51:33 CET 2009
~~~~~~
# Flex, c'est quand m??me moins bien 

Pour mon nouveau boulot, je suis amen?? ?? faire du Flex. Je ne le prends pas trop mal, dans la mesure o?? ??a me permet (en th??orie) d'impl??menter un point essentiel des m??thodes pour rester un d??veloppeur "on the edge".  
L?? o?? c'est moins bien, c'est que tant qu'?? faire, j'aurais pr??f??r?? travailler sur un langage qui ne fasse pas semblant.Prenez l'IDE, par exemple. La toute derni??re version de Flash Builder est en fait un packaging d'Eclipse d??di?? aux d??veloppeurs Flash (comme peut l'??tre, je ne sais pas moi, Eclipse for C, Pulsar, ...). En un sens, c'est tr??s bien, parce qu'en tant que d??veloppeur Java, je ne suis pas vraiment surpris. Sauf quand ils d??cident de me livrer sans mon consentement une version fran??aise. Ou que le seul refactoring disponible soit le renommage de fichiers (alors que faire des refactorings dans un langage dynamique, m??me si c'est plus difficile, c['est possible](http://www.ifs.hsr.ch/Projects/Projects/Ruby_Refactoring)). Ou que les erreurs de compilation me font revenir quinze ans en arri??re, avec des codes aabscons suivis de messages encore moins clairs (pour l'anecdote, il m'a fallu hier ?? peu pr??s l'apr??s-midi pour trouver qu'un test ne fonctionnait pas ?? cause d'un simple probl??me de d??claration de constructeur). Ou qu'une application mxml contenant les tests doive se trouver dans le dossier src (ce qui est super pratique pour s??parer les tests et le code source de ma biblioth??que, tiens, imaginez comme maven est content).Et si l'IDE inf??me ne vous suffit pas, prenez les biblioth??ques de test unitaire. En Java, je connais bien [jUnit](http://www.junit.org/), et un peu [TestNG](http://testng.org/doc/index.html). Elles sont plut??t document??es et facilement int??gr??es dans l'IDE. Bon, en Flex, il y a quoi ? [flexunit](http://opensource.adobe.com/wiki/display/flexunit/FlexUnit;jsessionid=236767BB1E313B82F6E49EE05F910365) ? [funit](http://blog.funit.org/) ? [asUnit](http://asunit.org/)??? bon, eh bien je vous mets au d??fi de trouver une doc claire et compl??te pour ces diff??rentes biblioth??ques; Attention, je ne parle pas d'un tutorial ??crit pour faire comme tout le monde et pr??sentant un exemple bidon m??me pas int??gr?? ?? l'IDE, mais bien de l'exemple complet qui me permet ?? la fin de lancer mes tests dans l'IDE. Cherchez pas, vous ne trouverez rien. Parce que ces trucs sont cod??s ?? la va-vite et que leurs auteurs ne semblent pas se soucier de l'industrialsiation de ces tests unitaires.Et pour finir avec l'industrialisation, parlons un peu des flexmojos. C'est une super-id??e de vouloir int??grer la compilation Flex ?? maven pour montrer comme l'outil est extensible. Mais c'est aussi une terriblement moins bonne id??e que de fournir une d??pendance flexmojos-unittest-support qui contienne les trois biblioth??ques sus-mentionn??es (dont les classes de bases de test unitaire s'appellent toutes ... TestCase ... merci pour les probl??mes d'import) sans jamais expliquer comment ??viter cette d??pendance (mis ?? part, quand on connait maven, en allanrt faire un tour dans le pom de cette d??pendance pour trouver les d??pendances initiales et leurs versions respectives).Bref, Flex, c'est quand m??me vachement moins bien que Java. Et c'est l?? que je comprend les ??ternels regrets des vrais d??veloppeurs Java, qui voient Sun lancer des id??es du bout du petit doigt et ne pas les soutenir (au hasard, JavaFX) alors qu'avec un bon soutien, cette techno a les moyens de botter cent fois les fesses ?? ce Flex, qui n'est rien d'autre qu'un javascript vaguement rabhill??.