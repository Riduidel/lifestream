type: post
status: published
title: Une semaine de XText 
tags: dsl, eclipse, java
date: Tue Dec 29 10:16:28 CET 2009
~~~~~~
# Une semaine de XText 

[](http://riduidel.files.wordpress.com/2009/12/outline_eclipse.png)

Cette semaine (et la semaine derni??re) je n'ai pas pass?? mon temps avec mes enfants. Non, comme tout jeune embauch??, j'ai pass?? mon temps au bureau ?? bosser sur un domaine que je connaissais jusqu'?? pr??sent assez mal : l'??criture de [grammaire](http://blog.octo.com/construire-ses-parsers-antlr-avec-maven-partie-1-3-antlr/). En fait, ?? l'origine, je devais juste ??crire un ??diteur avec coloration syntaxique pour un langage propri??taire utilis?? par le logiciel de mon entreprise. Seulement, je me suis dit qu'il ne serait pas beaucoup plus compliqu??, mais en revanche vraiment plus int??ressant, d'extraire la grammaire du langage et de laisser Eclipse se d??brouiller avec pour faire la coloration syntaxique, l'outline et peut-??tre m??me un peu de compl??tion. Dit comme ??a, ??a a l'air fou. Mais gr??ce ?? [Xtext](http://www.eclipse.org/Xtext/), c'est possible. Et aujourd'hui, apr??s moins de dix jours de boulot (ce qui pour un d??butant dans le domaine est vraiment tr??s court), j'ai une grammaire ?? peu pr??s compl??te du langage (regardez l'image jointe pour vous en convaincre).  
je dois dire que Xtext est particuli??rement bien fichu. on dispose d'un ??diteur avec coloration syntaxique pour les fichiers [antlr](http://www.antlr.org/) et, une fois ces fichiers compil??s, on peut lanc?? un eclipse configur?? pour reconna??tre le langage sur lequel on travaille, ce qui permet de tester tr??s facilement la qualit?? de l'arbre syntaxique g??n??r?? (gr??ce ?? [l'outline](http://help.eclipse.org/galileo/index.jsp?topic=/org.eclipse.platform.doc.user/concepts/coutline.htm), justement, qui affiche tous les symboles reconnus).Mon fan doit ??tre fou, lui qi attend chez mon ancien employeur depuis environ 2 ans de pouvoir faire ce que j'ai fait sur un langage encore plus merdique ;-)Moi, de mon c??t??, je vais m'attacher ?? am??liorer cet outline pour n'afficher que les ??l??ments utiles dans l'outline, pour ??ventuellement ajouter un peu de compl??tion (et surtout l'affichage de la doc associ??e). Mais ?? mon avis, pour tout ??a, je vais devoir plonger dans l'enfer des mod??les [ECore](http://download.eclipse.org/modeling/emf/emf/javadoc/2.5.0/org/eclipse/emf/ecore/package-summary.html#details) de Eclipse ... Et ??a risque de pas ??tre de la tarte, m??me avec [la doc](http://www.eclipse.org/Xtext/documentation/0_7_2/xtext.html) de Xtext.